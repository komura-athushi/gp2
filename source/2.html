<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ゲームプログラミング2 第二章</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link rel="stylesheet" href="templates/css/template.css">
    <script src="template.js"></script>
  </head>

<body>
    <div id="box">
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js">
    </script>
    <script>
        jQuery(function(){
          $('#box').load('header.html') // #headerにheader.htmlを読み込む
        });
    </script>
    <div class="title">
        <h1>第二章 オブジェクトの配置(後編)</h1>
    </div>
    <div class="letter-body">
        <ul id="list1">
            <div>
                <h3>この章で学ぶこと</h3>
                <h5>
                  <ul><li><span class="strong-letter">EqualObjectName</span></li>
                    <li><span class="strong-letter">ForwardMatchName</span></li>
                    <li><span class="strong-letter">番号設定</span></li>
                    <li><span class="strong-letter">型推論(上級者向け)</span></li>
                    <li><span class="strong-letter">C++標準ライブラリ リストクラス(上級者向け)</span></li>
                  </ul>
                </h5>
            </div>
            <li id="1"><h2 class="margin-letter">2.1 Leverの配置</h2></li>
            <div class="letter">
                <div>
                    第一章では、「Enemy」や「Boss」を配置しました。
                    <br>第二章では、「Lever」や「Door」の配置を行うと共に、k2Engineのレベルの機能についてより深く学んで行きましょう。
                    では、「Lever」の配置をしていきましょう。Assets/level3D/のstage.maxを開き、「tkExporter」を起動してください。
                    <div>
                        <img src="sprite/action2/1.png" class="margin-letter">
                    </div>
                    <div class="margin-letter">
                        「Lever」のモデルは、Assets/modelData/lever/lever.fbxです。
                        <br>向きや大きさ、位置を調整して配置してみてください。
                    </div>
                    <div>
                        <img src="sprite/action2/3.png" class="margin-letter">
                        <img src="sprite/action2/4.png" class="margin-letter">
                    </div>
                    <div class="margin-letter">
                        出来たら、level.tklファイルに保存してください。
                        <br>続いて、Game.slnファイルからVisual Studioを立ち上げて、Game.cppに下記のコードを追加してください。
                    </div>
                    <div class="margin-letter">
                        <code>
                            <ol class="code-region row col-11">
                                <li><font style="color:lightgreen;font-style:italic;">//Game.cpp/Game::Start()</font></li>
                                <li></li>
                                <li><font style="color:lightgreen;font-style:italic;">//名前がenemyだったら。</font></li>
                                <li>else if(objData.EqualObjectName(L<font style="color:lightcoral;">"enemy"</font>) == true)</li>
                                <li>{</li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<font style="color:lightgreen;font-style:italic;">//エネミーのオブジェクトを作成する。</font></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;Enemy* enemy = NewGO&lt;Enemy&gt;(0, <font style="color:lightcoral;">"enemy"</font>);</li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<font style="color:lightgreen;font-style:italic;">//座標を設定する。</font></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;enemy-&gt;SetPosition(objData.position);</li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<font style="color:lightgreen;font-style:italic;">//回転を設定する。</font></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;enemy-&gt;SetRotation(objData.rotation);</li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<font style="color:lightgreen;font-style:italic;">//HPを5に設定する。</font></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;enemy-&gt;SetHP(5);</li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<font style="color:lightgreen;font-style:italic;">//作成したエネミーの和を数えたいので、+1する。</font></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;m_numEnemy++;</li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;return true;</li>
                                <li>}</li>
                                <li><font style="color:lightgreen;font-style:italic;">//名前がbossだったら。</font></li>
                                <li>else if(objData.EqualObjectName(L<font style="color:lightcoral;">"boss"</font>) == true)</li>
                                <li>{</li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<font style="color:lightgreen;font-style:italic;">//ボスのオブジェクトを作成する。</font></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;Boss* boss = NewGO&lt;Boss&gt;(0, <font style="color:lightcoral;">"boss"</font>);</li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<font style="color:lightgreen;font-style:italic;">//座標を設定する。</font></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;boss-&gt;SetPosition(objData.position);</li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<font style="color:lightgreen;font-style:italic;">//回転を設定する。</font></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;boss-&gt;SetRotation(objData.rotation);</li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<font style="color:lightgreen;font-style:italic;">//ボスのHPは高めに設定する。</font></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<font style="color:lightgreen;font-style:italic;">//HPを15に設定する。</font></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;boss-&gt;SetHP(15);</li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<font style="color:lightgreen;font-style:italic;">//作成したエネミーの和を数えたいので、+1する。</font></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;m_numEnemy++;</li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;return true;</li>
                                <li>}</li>
                                <li><font style="color:lightgreen;font-style:italic;">//名前がleverだったら。</font></li>
                                <li><span style="color: rgb(210,255,61);border-bottom:solid 1px rgb(210,255,61);font-weight:bold;">else if(objData.EqualObjectName(L<font style="color:lightcoral;">"lever"</font>) == true)</span></li>
                                <li><span style="color: rgb(210,255,61);border-bottom:solid 1px rgb(210,255,61);font-weight:bold;">{</span></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<font style="color:lightgreen;font-style:italic;">//レバーのオブジェクトを作成する。</font></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(210,255,61);border-bottom:solid 1px rgb(210,255,61);font-weight:bold;">auto lever = NewGO&lt;Lever&gt;(0,<font style="color:lightcoral;">"lever"</font>);</span></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<font style="color:lightgreen;font-style:italic;">//座標を設定する。</font></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(210,255,61);border-bottom:solid 1px rgb(210,255,61);font-weight:bold;">lever-&gt;SetPosition(objData.position);</span></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<font style="color:lightgreen;font-style:italic;">//大きさを設定する。</font></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(210,255,61);border-bottom:solid 1px rgb(210,255,61);font-weight:bold;">lever-&gt;SetScale(objData.scale); </span></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<font style="color:lightgreen;font-style:italic;">//回転を設定する。</font></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(210,255,61);border-bottom:solid 1px rgb(210,255,61);font-weight:bold;">lever-&gt;SetRotation(objData.rotation);</span></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<font style="color:lightgreen;font-style:italic;">//レバーの配列に作成したオブジェクトを加える。</font></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(210,255,61);border-bottom:solid 1px rgb(210,255,61);font-weight:bold;">m_leverVector.push_back(lever);</span></li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(210,255,61);border-bottom:solid 1px rgb(210,255,61);font-weight:bold;">return true;</span></li>
                                <li><span style="color: rgb(210,255,61);border-bottom:solid 1px rgb(210,255,61);font-weight:bold;">}</span> </li>
                                <li>&nbsp;&nbsp;&nbsp;&nbsp;return true;</li>
                                <li>&nbsp;});</li>
                            </ol>
                        </code>
                    </div>
                    <div class="margin-letter">
                        出来たら、ゲームを実行してみてください。
                        <br>以下のように、「Lever」が表示されているでしょうか。
                    </div>
                    <div>
                        <img src="sprite/action2/5.png" class="margin-letter">
                    </div>
                    <div class="margin-letter">
                        続いて、「Door」の配置を行っていきます。
                    </div>
                </div>
            </div>
            <li id="2"><h2 class="margin-letter">2.2 Doorの配置</h2></li>
            <li id="3"><h2 class="margin-letter">2.3 LeverとDoorの紐づけ</h2></li>
            <li id="4"><h2 class="margin-letter">2.4 まとめ</h2></li>
            <li id="5"><h2 class="margin-letter">Tips 型推論</h2></li>
            <li id="6"><h2 class="margin-letter">Tips C++標準ライブラリ リストクラス</h2></li>
        </ul>
    </div>
  </body>

</html>